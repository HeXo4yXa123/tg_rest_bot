<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>MestiGo Mini App</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
:root{
  --bg:#0b0d0c;
  --panel:#121614;
  --card:#161b18;
  --green:#21EA7C;
  --green-dark:#1fbf65;
  --text:#ffffff;
  --muted:#9aa0a6;
  --line:rgba(255,255,255,.08);
}
*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI}
body{background:var(--bg);color:var(--text)}
#app{max-width:430px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column}

/* HEADER */
header{padding:14px 16px;display:flex;align-items:center;justify-content:space-between}
header h1{font-size:22px;font-weight:600}
.icon{background:none;border:none;color:var(--green);font-size:22px}

/* COMMON */
main{flex:1;padding-bottom:90px}
.screen{display:none;padding:16px}
.screen.active{display:block}
.card{background:var(--card);border-radius:18px;padding:14px;margin-bottom:14px}
.primary{width:100%;padding:18px;border-radius:18px;border:none;background:linear-gradient(180deg,var(--green),var(--green-dark));color:#000;font-weight:700;font-size:17px}

/* SEARCH */
.search-wrap{display:flex;gap:10px;margin-bottom:14px}
.search{flex:1;padding:13px 14px;border-radius:16px;background:#111;border:1px solid var(--line);color:#fff}
.search-btn{padding:0 18px;border-radius:16px;border:none;background:var(--green);color:#000;font-weight:600}

/* BANNER */
.banner{border-radius:18px;padding:16px;background:linear-gradient(90deg,var(--green),var(--green-dark));color:#000;font-weight:700;margin-bottom:20px}

/* CATEGORY ICON GRID */
.icon-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:20px}
.icon-item{text-align:center;font-size:13px}
.icon-circle{width:56px;height:56px;border-radius:18px;background:#1b211e;margin:0 auto 6px;display:flex;align-items:center;justify-content:center;font-size:24px}

/* RESTAURANTS */
.restaurant{background:var(--card);border-radius:22px;overflow:hidden;margin-bottom:16px;position:relative}
.restaurant-img{height:160px;background:#222}
.restaurant-info{padding:14px}
.restaurant-info b{display:block;margin-bottom:4px}
.restaurant-info span{color:var(--green);font-size:14px}
.fav{position:absolute;top:12px;right:12px;width:34px;height:34px;border-radius:50%;background:#0b0d0c;border:none;color:var(--green);font-size:16px}

/* CART */
.cart-item{display:flex;justify-content:space-between;align-items:center}
.counter{display:flex;gap:10px;align-items:center}
.counter button{width:28px;height:28px;border-radius:50%;border:none;background:#1c2220;color:#fff}

/* TABBAR */
.tabbar{position:fixed;bottom:0;left:0;right:0;background:#0e110f;display:flex;justify-content:space-around;padding:12px 0;border-top:1px solid var(--line)}
.tabbar button{background:none;border:none;color:var(--muted);font-size:22px}
.tabbar button.active{color:var(--green)}
</style>
</head>

<body>
<div id="app">

<header>
  <button class="icon" onclick="back()">‚Üê</button>
  <h1 id="title">–ì–ª–∞–≤–Ω–∞—è</h1>
  <button class="icon">‚§¥</button>
</header>

<main>

<!-- HOME -->
<section class="screen active" id="home">
  <div class="search-wrap">
    <input class="search" placeholder="–ò—Å–∫–∞—Ç—å –≤ mestigo">
    <button class="search-btn">–ù–∞–π—Ç–∏</button>
  </div>

  <div class="banner">–°–ö–ò–î–ö–ê 15% –ù–ê –ü–ï–†–í–´–ô –ó–ê–ö–ê–ó –û–¢ 50 ‚Çæ</div>

  <div class="icon-grid">
    <div class="icon-item"><div class="icon-circle">üçî</div>–§–∞—Å—Ç—Ñ—É–¥</div>
    <div class="icon-item"><div class="icon-circle">üç≤</div>–ú–µ—Å—Ç–Ω–∞—è</div>
    <div class="icon-item"><div class="icon-circle">ü•ü</div>–ì—Ä—É–∑–∏–Ω—Å–∫–∞—è</div>
    <div class="icon-item"><div class="icon-circle">üçù</div>–ï–≤—Ä–æ–ø–∞</div>
  </div>

  <div class="restaurant" onclick="go('restaurant')">
    <div class="restaurant-img"></div>
    <button class="fav">‚ô•</button>
    <div class="restaurant-info">
      <b>SUNSET RESTAURANT</b>
      <span>25‚Äì30 –º–∏–Ω ¬∑ ‚òÖ4.7</span>
    </div>
  </div>
</section>

<!-- RESTAURANT -->
<section class="screen" id="restaurant">
  <div class="restaurant-img" style="height:180px;border-radius:22px"></div>
  <h2 style="margin:14px 0">BBQ GARDEN</h2>

  <div class="card cart-item">
    <div>
      <b>–ö—É—Ä–∏–Ω—ã–π —à–∞—à–ª—ã–∫</b><br>
      <small>12.00 GEL ¬∑ 200–≥</small>
    </div>
    <div class="counter">
      <button>-</button><span>2</span><button>+</button>
    </div>
  </div>

  <div class="card cart-item">
    <div>
      <b>–û–≤–æ—â–∏ –Ω–∞ –≥—Ä–∏–ª–µ</b><br>
      <small>8.00 GEL ¬∑ 250–≥</small>
    </div>
    <div class="counter">
      <button>-</button><span>1</span><button>+</button>
    </div>
  </div>

  <h2 style="margin:20px 0 12px">–ß—Ç–æ-—Ç–æ –µ—â–µ?</h2>

  <div class="icon-grid">
    <div class="icon-item"><div class="icon-circle">‚ûï</div>–ê—Å—Å–æ—Ä—Ç–∏ —Å—ã—Ä–æ–≤<br><small>8 GEL</small></div>
    <div class="icon-item"><div class="icon-circle">‚ûï</div>–°–æ–ª–µ–Ω—å—è<br><small>8 GEL</small></div>
    <div class="icon-item"><div class="icon-circle">‚ûï</div>–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏<br><small>6 GEL</small></div>
    <div class="icon-item"><div class="icon-circle">‚ûï</div>–°–∞–ª–∞—Ç<br><small>7 GEL</small></div>
  </div>

  <div class="primary" style="margin-top:20px">–î–∞–ª–µ–µ</div>
</section>

<!-- FAVORITES -->
<section class="screen" id="favorites">
  <div style="text-align:center;margin-top:80px;color:var(--muted)">
    <div style="font-size:64px;margin-bottom:16px">üõç</div>
    –ü–æ—Ö–æ–∂–µ, —Ç—É—Ç –Ω–∏—á–µ–≥–æ –Ω–µ—Ç‚Ä¶<br>
    –í—ã–±–∏—Ä–∞–π—Ç–µ –∏ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
  </div>
</section>

</main>

<nav class="tabbar">
  <button class="active" onclick="go('home',this)">üè†</button>
  <button onclick="go('favorites',this)">‚ô•</button>
  <button onclick="go('cart',this)">üõí</button>
  <button>üë§</button>
</nav>

</div>

<script>
let stack=['home'];
function go(id,el){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.getElementById('title').innerText =
    id==='home'?'–ì–ª–∞–≤–Ω–∞—è':
    id==='restaurant'?'–†–µ—Å—Ç–æ—Ä–∞–Ω':
    id==='favorites'?'–ò–∑–±—Ä–∞–Ω–Ω–æ–µ':'–ö–æ—Ä–∑–∏–Ω–∞';
  stack.push(id);
  if(el){
    document.querySelectorAll('.tabbar button').forEach(b=>b.classList.remove('active'));
    el.classList.add('active');
  }
}
function back(){
  if(stack.length>1){
    stack.pop();
    go(stack[stack.length-1]);
  }
}
</script>

</body>
</html>
