<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Mini App</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
:root{
  --bg:#0A0A09;
  --card:#191917;
  --accent:#21EA7C;
  --text:#FFFFFF;
  --muted:#8A8A8A;
  --divider:#2A2A2A;
}

*{box-sizing:border-box}

body{
  margin:0;
  padding:16px;
  padding-bottom:110px;
  background:var(--bg);
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  color:var(--text);
}

h1{font-size:24px;margin:12px 0 16px}
.card{background:var(--card);border-radius:18px;padding:16px;margin-bottom:12px}
.center{text-align:center}
.muted{color:var(--muted)}

button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  background:var(--accent);
  color:#000;
  font-weight:600;
}

/* EMPTY */
.empty-icon{
  width:128px;height:128px;
  margin:32px auto 16px;
  border-radius:24px;
  background:#1E1E1B;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:52px;
}

/* PROFILE */
.profile-top{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.profile-left{
  display:flex;
  gap:12px;
  align-items:center;
}
.avatar{
  width:48px;height:48px;border-radius:50%;
  background:#C77DFF;
  display:flex;align-items:center;justify-content:center;
  font-weight:700;
}
.arrow{
  color:var(--accent);
  font-size:22px;
  cursor:pointer;
}
.role-select{display:none;margin-top:12px}
.role-select button{margin-top:8px}

/* LIST */
.list{list-style:none;padding:0;margin:0}
.list li{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px 0;
  border-bottom:1px solid var(--divider);
}
.list li:last-child{border-bottom:none}
.list span{color:var(--accent)}

/* BOTTOM NAV */
.bottom-nav{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  height:86px;
  background:var(--card);
  border-radius:18px 18px 0 0;
  display:flex;
}

.nav-item{
  flex:1;
  text-align:center;
  font-size:13px;
  color:var(--muted);
  padding-top:10px;
}

.nav-item.active{color:var(--accent)}

.nav-item svg{
  width:28px;
  height:28px;
  display:block;
  margin:0 auto 6px;
  stroke:currentColor;
  fill:none;
  stroke-width:1.5;
  stroke-linecap:round;
  stroke-linejoin:round;
}
</style>
</head>

<body>

<div id="content"></div>

<!-- BOTTOM NAV -->
<div class="bottom-nav">

  <!-- HOME -->
  <div class="nav-item active" data-tab="home">
    <!-- –∏–∫–æ–Ω–∫–∞ –∫–∞–∫ –≤ PNG: –¥–æ–º —Å –º—è–≥–∫–∏–º–∏ —É–≥–ª–∞–º–∏ -->
    <svg viewBox="0 0 24 24">
      <path d="M3.5 10.5L12 4l8.5 6.5"/>
      <path d="M6.5 9.5V20h11V9.5"/>
      <path d="M10 20v-5h4v5"/>
    </svg>
    –ì–ª–∞–≤–Ω–∞—è
  </div>

  <!-- FAVORITES -->
  <div class="nav-item" data-tab="fav">
    <!-- –∏–∫–æ–Ω–∫–∞ —Å–µ—Ä–¥—Ü–∞, –≤—ã—Ç—è–Ω—É—Ç–∞—è, –∫–∞–∫ –≤ –º–∞–∫–µ—Ç–µ -->
    <svg viewBox="0 0 24 24">
      <path d="M12 20s-6.8-4.4-6.8-9.1A4.2 4.2 0 0 1 12 7.9a4.2 4.2 0 0 1 6.8 3c0 4.7-6.8 9.1-6.8 9.1z"/>
    </svg>
    –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
  </div>

  <!-- CART -->
  <div class="nav-item" data-tab="cart">
    <!-- –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –∫–æ—Ä–∑–∏–Ω–∞ –∏–∑ PNG -->
    <svg viewBox="0 0 24 24">
      <path d="M3 5h2l2.2 11h9.5l2-8H7"/>
      <circle cx="10" cy="20" r="1.2"/>
      <circle cx="17" cy="20" r="1.2"/>
    </svg>
    –ö–æ—Ä–∑–∏–Ω–∞
  </div>

  <!-- PROFILE -->
  <div class="nav-item" data-tab="profile">
    <!-- –∏–∫–æ–Ω–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –∫–∞–∫ –≤ –º–∞–∫–µ—Ç–µ -->
    <svg viewBox="0 0 24 24">
      <circle cx="12" cy="7" r="3.5"/>
      <path d="M4.5 20c1.5-3.5 5-5 7.5-5s6 1.5 7.5 5"/>
    </svg>
    –ü—Ä–æ—Ñ–∏–ª—å
  </div>

</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready();

const content=document.getElementById("content");
const nav=document.querySelectorAll(".nav-item");
let role=localStorage.getItem("role")||"client";
const user=tg.initDataUnsafe?.user;

/* NAV */
nav.forEach(i=>{
  i.onclick=()=>{
    nav.forEach(n=>n.classList.remove("active"));
    i.classList.add("active");
    render(i.dataset.tab);
  }
});

/* RENDER */
function render(tab){
  if(tab==="home"){
    content.innerHTML=`<h1>–ì–ª–∞–≤–Ω–∞—è</h1><div class="card center muted">–ü–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç</div>`;
  }

  if(tab==="fav"){
    content.innerHTML=`
      <h1>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h1>
      <div class="empty-icon">‚ô°</div>
      <div class="center">
        <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –≤–∞—à–∏ –ª—é–±–∏–º—ã–µ –º–µ—Å—Ç–∞</p>
        <button>–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º</button>
      </div>`;
  }

  if(tab==="cart"){
    content.innerHTML=`
      <div class="empty-icon">üõçÔ∏è</div>
      <div class="center">
        <h2>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h2>
        <button>–°–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑</button>
      </div>`;
  }

  if(tab==="profile"){
    content.innerHTML=`
      <div class="card">
        <div class="profile-top">
          <div class="profile-left">
            <div class="avatar">${user?.first_name?.[0]||"U"}</div>
            <div>
              <b>${user?.first_name||"User"}</b><br>
              <span class="muted">ID ${user?.id||""}</span>
            </div>
          </div>
          <div class="arrow" onclick="toggleRole()">‚åÑ</div>
        </div>

        <div class="role-select" id="roles">
          <button onclick="setRole('client')">–ö–ª–∏–µ–Ω—Ç</button>
          <button onclick="setRole('manager')">–ú–µ–Ω–µ–¥–∂–µ—Ä</button>
          <button onclick="setRole('courier')">–ö—É—Ä—å–µ—Ä</button>
        </div>
      </div>

      <div class="card">
        <ul class="list">
          <li>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ <span>‚Ä∫</span></li>
          <li>–ú–æ–∏ –∞–¥—Ä–µ—Å–∞ <span>‚Ä∫</span></li>
          <li>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ <span>‚Ä∫</span></li>
          <li>–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã <span>‚Ä∫</span></li>
        </ul>
      </div>

      <div class="card">
        <ul class="list">
          <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ <span>‚Ä∫</span></li>
          <li>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞ <span>‚Ä∫</span></li>
          <li>–°—Ç–∞—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º <span>‚Ä∫</span></li>
        </ul>
      </div>

      <div class="card">
        <ul class="list">
          <li>–û —Å–µ—Ä–≤–∏—Å–µ <span>‚Ä∫</span></li>
          <li>–Ø–∑—ã–∫ <span class="muted">–†—É—Å—Å–∫–∏–π</span></li>
        </ul>
      </div>
    `;
  }
}

function toggleRole(){
  const r=document.getElementById("roles");
  r.style.display=r.style.display==="block"?"none":"block";
}
function setRole(r){
  role=r;
  localStorage.setItem("role",r);
  render("profile");
}

render("home");
</script>

</body>
</html>
